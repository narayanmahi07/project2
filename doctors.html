<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Doctors - swastAI</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">swastAI</div>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="doctors.html">Doctors</a></li>
                <li><a href="appointment.html">Appointment</a></li>
                <li><a href="symptom-checker.html">Symptom Checker</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="dashboard.html">Dashboard</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section>
            <h2>Our Experienced Doctors</h2>
            <div class="search-filter">
                <input type="text" id="doctorSearch" placeholder="Search by name or specialization...">
                <select id="specializationFilter">
                    <option value="all">All Specializations</option>
                    <option value="General Medicine">General Medicine</option>
                    <option value="Cardiology">Cardiology</option>
                    <option value="Pediatrics">Pediatrics</option>
                    <option value="Orthopedics">Orthopedics</option>
                </select>
            </div>
            <div class="doctors-grid" id="doctorsGrid">
                <!-- Doctor cards will be loaded here by JavaScript -->
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 swastAI. All rights reserved.</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", async function() {
            const doctorsGrid = document.getElementById("doctorsGrid");
            const doctorSearch = document.getElementById("doctorSearch");
            const specializationFilter = document.getElementById("specializationFilter");

            let allDoctors = [];

            async function loadDoctors() {
                const loader = HealthIntelli.Utils.showLoader(doctorsGrid);
                allDoctors = await HealthIntelli.APISimulator.getDoctors();
                HealthIntelli.Utils.hideLoader(loader);
                displayDoctors(allDoctors);
            }

            function displayDoctors(doctors) {
                doctorsGrid.innerHTML = ""; // Clear existing cards
                if (doctors.length === 0) {
                    doctorsGrid.innerHTML = "<p>No doctors found matching your criteria.</p>";
                    return;
                }
                doctors.forEach(doctor => {
                    const doctorCard = document.createElement("div");
                    doctorCard.className = "card doctor-card";
                    doctorCard.innerHTML = `
                        <img src="${doctor.image}" alt="${doctor.name}">
                        <h3>${doctor.name}</h3>
                        <p class="specialization">${doctor.specialization}</p>
                        <p>Rating: ${doctor.rating} <i class="fas fa-star"></i></p>
                        <p>Experience: ${doctor.experience}</p>
                        <button class="btn btn-secondary" onclick="window.location.href='appointment.html?doctor=${doctor.id}'">Book Appointment</button>
                    `;
                    doctorsGrid.appendChild(doctorCard);
                });
            }

            function filterDoctors() {
                const searchTerm = doctorSearch.value.toLowerCase();
                const selectedSpecialization = specializationFilter.value;

                const filtered = allDoctors.filter(doctor => {
                    const matchesSearch = doctor.name.toLowerCase().includes(searchTerm) ||
                                          doctor.specialization.toLowerCase().includes(searchTerm);
                    const matchesSpecialization = selectedSpecialization === "all" ||
                                                  doctor.specialization === selectedSpecialization;
                    return matchesSearch && matchesSpecialization;
                });
                displayDoctors(filtered);
            }

            doctorSearch.addEventListener("input", filterDoctors);
            specializationFilter.addEventListener("change", filterDoctors);

            loadDoctors();
        });
    </script>
</body>
</html>

